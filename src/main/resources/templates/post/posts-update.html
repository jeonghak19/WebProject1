<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <head th:replace="~{fragment/header :: head}"></head>
</head>

<body onload="autoResizing(document.getElementById('description'));">

<div th:replace="~{fragment/navbar :: div}"></div>

    <br><h1 id="h1-center">수정 페이지</h1>
    
		<form action="/post/posts/update" method="post" enctype="multipart/form-data">
			<input type="hidden" name="boardId" th:value="${boardId}">
			<input type="hidden" name="postId" th:value="${post.postId}">
			<input type="hidden" name="imgPath" th:value="${post.imgPath}">
			<input type="hidden" name="imgName" th:value="${post.imgName}">
        <div class="form-group">
            <label for="title">제목</label>
            <input type="text" class="form-control" name="postTitle" id="title" required th:value="${post.postTitle}">
        </div>
        <br><br>
        
   	    <div class="form-group">
            <label for="description">내용</label>
            <textarea  class="form-control" name="description" id="description"  th:text="${post.description}"
            		   rows="3" onkeydown="autoResizing(this)" onpaste="setTimeout(() => autoResizing(this), 0)">
           </textarea>
        </div>
        <br>

        <div class="form-group">
            <label for="file"></label>
            <button type="button" class="btn btn-outline-warning"onclick="openFileDialog();">파일 선택</button>
            <input type="file" onchange="changeFile(this);" class="form-control" name ="file" id="file" accept="image/png, image/jpeg">
            <span id="fileName" th:text="${originalFileName}"></span><br>
            <p id="info-text">첨부파일은 5MB이하, 파일 형식은 jpg, png만 가능합니다.</p>
        </div><br>
        
        <div class="align-center">
       		<button type="submit" class="btn btn-outline-primary">수정완료</button>
        </div>
       	<br></br>
       	
    </form>

<div th:replace="~{fragment/footer :: footer}"></div>

</body>
</html>